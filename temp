@Test
void testSetEncryptedResourcesThrowsException() throws Exception {
    // Arrange
    Resource encryptedResource = mock(Resource.class);
    when(encryptedResource.getFilename()).thenReturn("encrypted_file.gpg");

    // Mock decryption to throw an exception
    when(decryptionUtil.decryptResource(encryptedResource))
            .thenThrow(new RuntimeException("Decryption failed"));

    // Act & Assert
    RuntimeException exception = assertThrows(RuntimeException.class, () -> {
        multiResourceItemReader.setEncryptedResources(new Resource[]{encryptedResource});
    });

    // Verify exception message
    assertEquals("Decryption failed", exception.getMessage());
}
