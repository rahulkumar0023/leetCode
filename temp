Perfect üëç ‚Äî here is a clean JUnit 5 test class for the **accent-stripping sanitizeToken method**.

This assumes your implementation is:

```java
public static String sanitizeToken(String value) {
    if (value == null) return "";

    String trimmed = value.trim();
    if (trimmed.isEmpty()) return "";

    String normalized = Normalizer.normalize(trimmed, Normalizer.Form.NFD)
            .replaceAll("\\p{M}", "");

    return UNSAFE_FILE_CHARS.matcher(normalized).replaceAll("_");
}
```

Where:

```java
private static final Pattern UNSAFE_FILE_CHARS =
        Pattern.compile("[^a-zA-Z0-9_-]+");
```

---

# ‚úÖ JUnit Test Class

```java
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class FileNameUtilTest {

    @Test
    void sanitizeToken_stripsAccents() {
        String input = "HUITRI√àRE";
        String result = FileNameUtil.sanitizeToken(input);

        assertEquals("HUITRIERE", result);
    }

    @Test
    void sanitizeToken_stripsLowercaseAccents() {
        String input = "Cr√®me br√ªl√©e";
        String result = FileNameUtil.sanitizeToken(input);

        assertEquals("Creme_brulee", result);
    }

    @Test
    void sanitizeToken_replacesSpacesAndSpecialCharacters() {
        String input = "HUITRI√àRE & EOLe";
        String result = FileNameUtil.sanitizeToken(input);

        assertEquals("HUITRIERE_EOLe", result);
    }

    @Test
    void sanitizeToken_replacesDots() {
        String input = "26.51.510012";
        String result = FileNameUtil.sanitizeToken(input);

        assertEquals("26_51_510012", result);
    }

    @Test
    void sanitizeToken_handlesMixedUnsafeCharacters() {
        String input = "Test/Name:File*Here?";
        String result = FileNameUtil.sanitizeToken(input);

        assertEquals("Test_Name_File_Here_", result);
    }

    @Test
    void sanitizeToken_handlesNull() {
        assertEquals("", FileNameUtil.sanitizeToken(null));
    }

    @Test
    void sanitizeToken_handlesBlank() {
        assertEquals("", FileNameUtil.sanitizeToken("   "));
    }

    @Test
    void sanitizeToken_preservesAllowedCharacters() {
        String input = "ABC_123-test";
        String result = FileNameUtil.sanitizeToken(input);

        assertEquals("ABC_123-test", result);
    }
}
```

---

# üéØ What This Covers

‚úî Accent removal
‚úî Lowercase accents
‚úî Spaces
‚úî Ampersand
‚úî Dots
‚úî Unsafe characters
‚úî Null
‚úî Blank
‚úî Already-safe strings

This gives you full branch coverage and Sonar-safe tests.

---

If you want, I can also provide:

* JUnit for `sanitizeFilenamePreserveExtension` with accent handling
* A test ensuring invoiceId appears only once in final filename
* A combined integration-style test for your XML writer flow
