@Bean
public MultiResourceItemReader<InvoiceType> multiInvoiceReader() {
    MultiResourceItemReader<InvoiceType> reader = new MultiResourceItemReader<>();
    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();
    Resource[] resources;

    try {
        resources = resolver.getResources("classpath:input/*.xml");
    } catch (IOException e) {
        throw new RuntimeException("Failed to load input XML files", e);
    }

    reader.setResources(resources);
    reader.setDelegate(singleInvoiceReader());
    return reader;
}
