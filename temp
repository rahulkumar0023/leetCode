Thanks for sharing your current config â€” it shows you're using the **Jakarta-based `jaxb-maven-plugin` from `org.jvnet.jaxb`**, version `4.0.8`. Thatâ€™s **very close** to the correct setup â€” but to ensure full compatibility with the **Jakarta JAXB 4.x runtime**, you need just a few **critical adjustments**.

---

### âœ… Updated Plugin Configuration for Jakarta JAXB 4.x

Here is the **complete and corrected version** of your plugin, adjusted for compatibility with:

* `jakarta.xml.bind`
* Glassfish `jaxb-runtime:4.0.4+`
* PEPPOL UBL 2.1 with custom bindings

```xml
<plugin>
  <groupId>org.jvnet.jaxb2.maven2</groupId>
  <artifactId>maven-jaxb2-plugin</artifactId>
  <version>0.15.3</version>
  <executions>
    <execution>
      <id>generate-ubl</id>
      <goals>
        <goal>generate</goal>
      </goals>
      <configuration>
        <!-- Enable Jakarta namespace -->
        <jaxbSpecVersion>4.0</jaxbSpecVersion>
        <extension>true</extension>

        <!-- Use Jakarta bindings -->
        <bindingDirectory>${project.basedir}/src/main/xjb</bindingDirectory>
        <bindingFiles>
          <include>bindings.xjb</include>
        </bindingFiles>

        <schemaDirectory>${project.basedir}/src/main/xsd/maindoc</schemaDirectory>
        <schemaIncludes>
          <include>UBL-Invoice-2.1.xsd</include>
        </schemaIncludes>

        <generatePackage>com.mycompany.ubl.invoice</generatePackage>

        <args>
          <arg>-Xannotate</arg>
        </args>

        <!-- Add annotate plugin -->
        <plugins>
          <plugin>
            <groupId>org.jvnet.jaxb2_commons</groupId>
            <artifactId>jaxb2-annotate-plugin</artifactId>
            <version>1.1</version>
          </plugin>
        </plugins>

      </configuration>
    </execution>
  </executions>
</plugin>
```

---

### âœ… Required Dependencies (for Jakarta runtime)

Make sure your dependencies include **only** the following JAXB artifacts:

```xml
<dependencies>
  <!-- Jakarta JAXB API -->
  <dependency>
    <groupId>jakarta.xml.bind</groupId>
    <artifactId>jakarta.xml.bind-api</artifactId>
    <version>4.0.0</version>
  </dependency>

  <!-- Glassfish JAXB RI (runtime) -->
  <dependency>
    <groupId>org.glassfish.jaxb</groupId>
    <artifactId>jaxb-runtime</artifactId>
    <version>4.0.4</version>
  </dependency>
</dependencies>
```

---

### ðŸ§© Final Notes

* âœ… The plugin `org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.15.3` supports **Jakarta JAXB 4.x**.
* âš  Do **not** use `org.glassfish.jaxb:jaxb-maven-plugin` â€” it's not compatible with all `-X` extensions like `-Xannotate`.
* âœ… Your generated Java classes will now use `**jakarta.xml.bind.annotation.***`, fully compatible with Glassfish JAXB 4 runtime.
* âœ… You can now safely do:

```java
marshaller.setProperty("jakarta.xml.bind.namespacePrefixMapper", new MyNamespacePrefixMapper());
```

---

Would you like a minimal working Maven project with this structure and sample schema to test it out?
